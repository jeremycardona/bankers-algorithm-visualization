<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Banker's Algorithm Visualization</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/JSAV.css">
	<script defer src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
	<script src="./lib/jquery.transit.js"></script>
	<script src="./lib/raphael.js"></script>
	<script src="./lib/dagre.min.js"></script>
	<script src="JSAV-min.js"></script>
	<script src="bankers-algorithm.js"></script>
</head>

<body>
	<div class="columns">
		<aside class="menu column is-one-quarter scroll is-black has-text-white-bis">
			<section class="section">
				<p class="menu-label is-size-3 has-text-grey-lighter">
					<b>Banker's Algorithm Visualization</b>
				</p>
				<p class="is-size-6">
					<small>Resource allocation and deadlock avoidance algorithm visualization using JavaScript.</small>
				</p>
				<hr>
				<p class="subtitle is-6 has-text-info">Algorithm Description</p>
				<p class="is-size-7">
					Test for safety by simulating the allocation of predetermined maximum possible amounts of all resources. Then it makes a
					"safe state" check to test for possible deadlock conditions for all other pending activities, before deciding whether
					allocation should be allowed to continue.
				</p>
			</section>
			<section class="section">
				<p class="menu-label has-text-info">
					Set up algorithm
				</p>
				<ul class="menu-list">
					<li>
						<a class="button is-info" onclick="start()" this.onclick=NULL>Run!</a>
					</li>
				</ul>
				<p class="menu-label has-text-info">
					Generated variables and matrices:
				</p>
				<ul class="menu-list">
					<li>
						<p class="">Number of process:
							<small id="p"></small>
						</p>
						<p class="">Number of resourses:
							<small id="r"></small>
						</p>
					</li>
					<li>
						<p>The claim vector is: </p>
						<p id="max_res"></p>
					</li>
					<li>
						<p>The Allocated Resource Table is: </p>
						<p id="curr"></p>
					</li>
					<li>
						<p>The maximum claim table: </p>
						<p id="max_claim"></p>
					</li>
					<li>
						<p>Allocated resources:</p>
						<p id="alloc"></p>
					</li>
					<li>
						<p>Available resources:</p>
						<p id="avl"></p>
					</li>
				</ul>
				<p class="menu-label has-text-info">
					Outputs
				</p>
				<ul class="menu-list">
					<li>Process Execution: 
						<p id="exec"></p>
					</li>
					<li>
						<p id="safe"></p>
					</li>
				</ul>
				
			</section>
		</aside>

		<section class="section column scroll">
			<div class="container">
				<h1 class="title">Visualization</h1>
			</div>
			<div id="av">
				<div class="jsavcontrols"></div>
				<span class="jsavcounter"></span>
				<p class="jsavoutput jsavline"></p>
			</div>
		</section>
	</div>
	<script>
		var firstTime = true;
		var start = function () {
			if (firstTime) {
				firstTime = false;
				main();
			}
		}	
	</script>
</body>

</html>